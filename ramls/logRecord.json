{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "description": "Main entity for saving/retrieving log info",
  "properties": {
    "eventId": {
      "description": "Event id",
      "$ref": "common/uuid.json"
    },
    "userBarcode": {
      "description": "User barcode",
      "type": "string"
    },
    "itemBarcode": {
      "description": "Item barcode",
      "type": "string"
    },
    "object": {
      "description": "Logged object",
      "type": "string",
      "enum": [
        "Fee/Fine",
        "Item Block",
        "Loan",
        "Manual Block",
        "Notice",
        "Patron Block",
        "Request"
      ]
    },
    "action": {
      "description": "Action",
      "type": "string",
      "enum": [
        "Age to lost",
        "Anonymize",
        "Billed",
        "Cancelled",
        "Cancelled as error",
        "Changed due date",
        "Check in",
        "Check out",
        "Checked in",
        "Checked out",
        "Checked out through override",
        "Claimed returned",
        "Closed loan",
        "Created",
        "Credited fully",
        "Declared lost",
        "Deleted",
        "Edited",
        "Expired",
        "Marked as missing",
        "Modified",
        "Moved",
        "Paid fully",
        "Paid partially",
        "Patron blocked from requesting",
        "Pickup expired",
        "Queue position reordered",
        "Recall requested",
        "Refunded fully",
        "Refunded partially",
        "Renewed",
        "Renewed through override",
        "Request status changed",
        "Send",
        "Staff information only added",
        "Transferred fully",
        "Transferred partially",
        "Waived fully",
        "Waived partially"
      ]
    },
    "date": {
      "description": "Event date",
      "type": "string",
      "format": "date-time"
    },
    "servicePointId": {
      "description": "Service point id",
      "$ref": "common/uuid.json"
    },
    "source": {
      "description": "Source",
      "type": "string"
    },
    "description": {
      "description": "Description",
      "type": "string"
    },
    "linkToIds": {
      "description": "Additional data for details",
      "type": "object",
      "properties": {
        "userId": {
          "description": "User id",
          "$ref": "common/uuid.json"
        },
        "itemId": {
          "description": "Item id",
          "$ref": "common/uuid.json"
        },
        "loanId": {
          "description": "Loan id",
          "$ref": "common/uuid.json"
        },
        "feeFineId": {
          "description": "Fee/Fine id",
          "$ref": "common/uuid.json"
        },
        "templateId": {
          "description": "Template id",
          "$ref": "common/uuid.json"
        },
        "requestId": {
          "description": "Request id",
          "$ref": "common/uuid.json"
        },
        "noticePolicyId": {
          "description": "Notice Policy id",
          "$ref": "common/uuid.json"
        },
        "instanceId": {
          "description": "Instance id",
          "$ref": "common/uuid.json"
        },
        "holdingId": {
          "description": "Holding id",
          "$ref": "common/uuid.json"
        }
      }
    }
  },
  "additionalProperties": true,
  "required": [
    "eventId"
  ]
}
